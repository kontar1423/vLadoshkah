<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .auth-section {
            background: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .admin-panel {
            display: none;
        }

        .admin-panel.active {
            display: block;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 15px 30px;
            background: white;
            border: none;
            border-radius: 10px 10px 0 0;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            color: #667eea;
        }

        .tab:hover {
            background: #f8f9fa;
        }

        .tab.active {
            background: white;
            color: #764ba2;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
        }

        .tab-content {
            display: none;
            background: white;
            padding: 40px;
            border-radius: 0 20px 20px 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .tab-content.active {
            display: block;
        }

        .form-section {
            margin-bottom: 30px;
        }

        .form-section h2 {
            margin-bottom: 25px;
            color: #333;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group.full-width {
            grid-column: 1 / -1;
        }

        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #555;
            font-size: 14px;
        }

        label.required::after {
            content: " *";
            color: #dc3545;
        }

        input, select, textarea {
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            font-size: 14px;
            background: #f8f9fa;
            transition: all 0.3s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .file-upload {
            border: 2px dashed #667eea;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            border-color: #764ba2;
            background: #f0f0f0;
        }

        .file-upload input[type="file"] {
            display: none;
        }

        .preview-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .preview-item {
            position: relative;
            width: 100px;
            height: 100px;
            border-radius: 8px;
            overflow: hidden;
        }

        .preview-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .remove-btn {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #545b62;
            transform: translateY(-2px);
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .message {
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
            border-left: 4px solid #28a745;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
            border-left: 4px solid #dc3545;
        }

        .message.info {
            background: #d1ecf1;
            color: #0c5460;
            border-left: 4px solid #17a2b8;
        }

        .auth-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logout-btn {
            padding: 8px 20px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }

        .logout-btn:hover {
            background: #c82333;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .tabs {
                flex-direction: column;
            }

            .tab {
                border-radius: 10px;
            }

            .tab-content {
                border-radius: 20px;
            }

            .header h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üëë –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
            <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π –ø—Ä–∏—é—Ç–∞ –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö</p>
        </div>

        <!-- –°–µ–∫—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
        <div id="authSection" class="auth-section">
            <div class="form-section">
                <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
                <form id="registerForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="regEmail" class="required">Email</label>
                            <input type="email" id="regEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="regPassword" class="required">–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" id="regPassword" minlength="6" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫–∞–∫ –∞–¥–º–∏–Ω</button>
                </form>
            </div>

            <div class="form-section" style="border-top: 2px solid #e1e5e9; padding-top: 30px; margin-top: 30px;">
                <h2>–í—Ö–æ–¥</h2>
                <form id="loginForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="loginEmail" class="required">Email</label>
                            <input type="email" id="loginEmail" required>
                        </div>
                        <div class="form-group">
                            <label for="loginPassword" class="required">–ü–∞—Ä–æ–ª—å</label>
                            <input type="password" id="loginPassword" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-success">–í–æ–π—Ç–∏</button>
                </form>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
        <div id="adminPanel" class="admin-panel">
            <div class="auth-info">
                <div class="user-info">
                    <span>üë§ –í—ã –≤–æ—à–ª–∏ –∫–∞–∫: <strong id="userEmail"></strong></span>
                </div>
                <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>

            <div class="tabs">
                <button type="button" class="tab active" onclick="switchTab('users', event)">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
                <button type="button" class="tab" onclick="switchTab('animals', event)">üêæ –ñ–∏–≤–æ—Ç–Ω—ã–µ</button>
                <button type="button" class="tab" onclick="switchTab('shelters', event)">üè† –ü—Ä–∏—é—Ç—ã</button>
                <button type="button" class="tab" onclick="switchTab('applications', event)">üìã –ó–∞—è–≤–∫–∏</button>
                <button type="button" class="tab" onclick="switchTab('manage', event)">‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</button>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
            <div id="usersTab" class="tab-content active">
                <div class="form-section">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
                    <form id="userForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="newUserEmail" class="required">Email</label>
                                <input type="email" id="newUserEmail" required>
                            </div>
                            <div class="form-group">
                                <label for="userPassword" class="required">–ü–∞—Ä–æ–ª—å</label>
                                <input type="password" id="userPassword" minlength="6" required>
                            </div>
                            <div class="form-group">
                                <label for="userFirstname">–ò–º—è</label>
                                <input type="text" id="userFirstname">
                            </div>
                            <div class="form-group">
                                <label for="userLastname">–§–∞–º–∏–ª–∏—è</label>
                                <input type="text" id="userLastname">
                            </div>
                            <div class="form-group">
                                <label for="userRole">–†–æ–ª—å</label>
                                <select id="userRole" onchange="toggleShelterSelect()">
                                    <option value="user">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                                    <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                                    <option value="shelter_admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–∏—é—Ç–∞</option>
                                </select>
                            </div>
                            <div class="form-group" id="shelterSelectGroup" style="display: none;">
                                <label for="userShelter">–ü—Ä–∏—é—Ç</label>
                                <select id="userShelter">
                                    <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏—é—Ç–æ–≤...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="userGender">–ü–æ–ª</label>
                                <select id="userGender">
                                    <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                    <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                                    <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="userPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                <input type="tel" id="userPhone">
                            </div>
                            <div class="form-group full-width">
                                <label for="userPhoto">–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è</label>
                                <div class="file-upload" onclick="document.getElementById('userPhoto').click()">
                                    <input type="file" id="userPhoto" accept="image/*">
                                    <p>üì∑ –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</p>
                                </div>
                                <div id="userPhotoPreview" class="preview-container"></div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
                    </form>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö -->
            <div id="animalsTab" class="tab-content">
                <div class="form-section">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ</h2>
                    <form id="animalForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="animalName" class="required">–ò–º—è</label>
                                <input type="text" id="animalName" required>
                            </div>
                            <div class="form-group">
                                <label for="animalAge" class="required">–í–æ–∑—Ä–∞—Å—Ç (–ª–µ—Ç)</label>
                                <input type="number" id="animalAge" min="0" max="30" required>
                            </div>
                            <div class="form-group">
                                <label for="animalType" class="required">–¢–∏–ø</label>
                                <select id="animalType" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                                    <option value="cat">–ö–æ—à–∫–∞</option>
                                    <option value="dog">–°–æ–±–∞–∫–∞</option>
                                    <option value="rabbit">–ö—Ä–æ–ª–∏–∫</option>
                                    <option value="parrot">–ü–æ–ø—É–≥–∞–π</option>
                                    <option value="hamster">–•–æ–º—è–∫</option>
                                    <option value="other">–î—Ä—É–≥–æ–µ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="animalGender">–ü–æ–ª</label>
                                <select id="animalGender">
                                    <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                    <option value="male">–ú—É–∂—Å–∫–æ–π</option>
                                    <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
                                    <option value="unknown">–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="animalShelter" class="required">–ü—Ä–∏—é—Ç</label>
                                <select id="animalShelter" required>
                                    <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏—é—Ç–æ–≤...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="animalWeight">–í–µ—Å (–∫–≥)</label>
                                <input type="number" id="animalWeight" min="0" step="0.1">
                            </div>
                            <div class="form-group">
                                <label for="animalColor">–û–∫—Ä–∞—Å</label>
                                <input type="text" id="animalColor">
                            </div>
                            <div class="form-group">
                                <label for="animalSize">–†–∞–∑–º–µ—Ä</label>
                                <select id="animalSize">
                                    <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                    <option value="small">–ú–∞–ª–µ–Ω—å–∫–∏–π</option>
                                    <option value="medium">–°—Ä–µ–¥–Ω–∏–π</option>
                                    <option value="large">–ö—Ä—É–ø–Ω—ã–π</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="animalHealth">–°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è</label>
                                <input type="text" id="animalHealth" placeholder="–∑–¥–æ—Ä–æ–≤, —Ç—Ä–µ–±—É–µ—Ç –ª–µ—á–µ–Ω–∏—è –∏ —Ç.–¥.">
                            </div>
                            <div class="form-group full-width">
                                <label for="animalPersonality">–•–∞—Ä–∞–∫—Ç–µ—Ä</label>
                                <textarea id="animalPersonality"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label for="animalHistory">–ò—Å—Ç–æ—Ä–∏—è</label>
                                <textarea id="animalHistory"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</label>
                                <div class="file-upload" onclick="document.getElementById('animalPhotos').click()">
                                    <input type="file" id="animalPhotos" multiple accept="image/*">
                                    <p>üì∑ –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)</p>
                                </div>
                                <div id="animalPhotosPreview" class="preview-container"></div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –∂–∏–≤–æ—Ç–Ω–æ–µ</button>
                    </form>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –ø—Ä–∏—é—Ç–æ–≤ -->
            <div id="sheltersTab" class="tab-content">
                <div class="form-section">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–∏—é—Ç</h2>
                    <form id="shelterForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="shelterName" class="required">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                                <input type="text" id="shelterName" required>
                            </div>
                            <div class="form-group full-width">
                                <label for="shelterAddress">–ê–¥—Ä–µ—Å</label>
                                <input type="text" id="shelterAddress">
                            </div>
                            <div class="form-group">
                                <label for="shelterRegion">–û–∫—Ä—É–≥</label>
                                <select id="shelterRegion">
                                    <option value="">–ù–µ –≤—ã–±—Ä–∞–Ω</option>
                                    <option value="cao">–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π</option>
                                    <option value="sao">–°–µ–≤–µ—Ä–Ω—ã–π</option>
                                    <option value="svao">–°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π</option>
                                    <option value="vao">–í–æ—Å—Ç–æ—á–Ω—ã–π</option>
                                    <option value="yuvao">–Æ–≥–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π</option>
                                    <option value="yao">–Æ–∂–Ω—ã–π</option>
                                    <option value="yuzao">–Æ–≥–æ-–ó–∞–ø–∞–¥–Ω—ã–π</option>
                                    <option value="zao">–ó–∞–ø–∞–¥–Ω—ã–π</option>
                                    <option value="szao">–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π</option>
                                    <option value="zelao">–ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥—Å–∫–∏–π</option>
                                    <option value="tinao">–¢—Ä–æ–∏—Ü–∫–∏–π</option>
                                    <option value="nao">–ù–æ–≤–æ–º–æ—Å–∫–æ–≤—Å–∫–∏–π</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="shelterPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                <input type="tel" id="shelterPhone">
                            </div>
                            <div class="form-group">
                                <label for="shelterEmail">Email</label>
                                <input type="email" id="shelterEmail">
                            </div>
                            <div class="form-group">
                                <label for="shelterWebsite">–í–µ–±-—Å–∞–π—Ç</label>
                                <input type="url" id="shelterWebsite" placeholder="https://example.com">
                            </div>
                            <div class="form-group">
                                <label for="shelterCapacity">–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</label>
                                <input type="number" id="shelterCapacity" min="0">
                            </div>
                            <div class="form-group">
                                <label for="shelterWorkingHours">–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã</label>
                                <input type="text" id="shelterWorkingHours" placeholder="–ü–Ω-–ü—Ç 9:00-18:00">
                            </div>
                            <div class="form-group">
                                <label for="shelterCanAdopt">–ú–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞ —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ</label>
                                <select id="shelterCanAdopt">
                                    <option value="">–ù–µ —É–∫–∞–∑–∞–Ω–æ</option>
                                    <option value="true">–î–∞</option>
                                    <option value="false">–ù–µ—Ç</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="shelterStatus">–°—Ç–∞—Ç—É—Å</label>
                                <select id="shelterStatus">
                                    <option value="active">–ê–∫—Ç–∏–≤–µ–Ω</option>
                                    <option value="inactive">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                                    <option value="suspended">–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label for="shelterDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                <textarea id="shelterDescription"></textarea>
                            </div>
                            <div class="form-group full-width">
                                <label>–§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏</label>
                                <div class="file-upload" onclick="document.getElementById('shelterPhotos').click()">
                                    <input type="file" id="shelterPhotos" multiple accept="image/*">
                                    <p>üì∑ –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ)</p>
                                </div>
                                <div id="shelterPhotosPreview" class="preview-container"></div>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏—é—Ç</button>
                    </form>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –∑–∞—è–≤–æ–∫ -->
            <div id="applicationsTab" class="tab-content">
                <div class="form-section">
                    <h2>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É</h2>
                    <form id="applicationForm">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="applicationUser" class="required">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</label>
                                <select id="applicationUser" required>
                                    <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="applicationShelter" class="required">–ü—Ä–∏—é—Ç</label>
                                <select id="applicationShelter" required>
                                    <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏—é—Ç–æ–≤...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="applicationAnimal" class="required">–ñ–∏–≤–æ—Ç–Ω–æ–µ</label>
                                <select id="applicationAnimal" required>
                                    <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="applicationStatus">–°—Ç–∞—Ç—É—Å</label>
                                <select id="applicationStatus">
                                    <option value="pending">–û–∂–∏–¥–∞–µ—Ç</option>
                                    <option value="approved">–û–¥–æ–±—Ä–µ–Ω–∞</option>
                                    <option value="rejected">–û—Ç–∫–ª–æ–Ω–µ–Ω–∞</option>
                                    <option value="cancelled">–û—Ç–º–µ–Ω–µ–Ω–∞</option>
                                </select>
                            </div>
                            <div class="form-group full-width">
                                <label for="applicationDescription" class="required">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                <textarea id="applicationDescription" minlength="10" maxlength="5000" required placeholder="–ú–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤"></textarea>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
                    </form>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
            <div id="manageTab" class="tab-content">
                <div class="form-section">
                    <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å—è–º–∏</h2>
                    <div style="margin-bottom: 20px;">
                        <label for="manageType" style="font-weight: 600; margin-bottom: 10px; display: block;">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∑–∞–ø–∏—Å–∏:</label>
                        <select id="manageType" onchange="loadManageList(event)" style="padding: 10px; font-size: 16px; width: 300px;">
                            <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø --</option>
                            <option value="animals">–ñ–∏–≤–æ—Ç–Ω—ã–µ</option>
                            <option value="shelters">–ü—Ä–∏—é—Ç—ã</option>
                            <option value="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</option>
                            <option value="applications">–ó–∞—è–≤–∫–∏</option>
                        </select>
                    </div>
                    <div id="manageListContainer" style="margin-top: 20px;"></div>
                    <div id="manageEditContainer" style="margin-top: 30px; display: none;"></div>
                </div>
            </div>
        </div>

        <div id="messageContainer"></div>
    </div>

    <script>
        const API_BASE = 'http://localhost:4000/api';
        let accessToken = localStorage.getItem('accessToken');
        let userEmail = localStorage.getItem('userEmail');
        let animalPhotos = [];
        let shelterPhotos = [];

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            if (accessToken && userEmail) {
                showAdminPanel();
            } else {
                showAuthSection();
            }
            setupFileUploads();
            loadShelters();
            loadUsers();
            loadAnimals();
        });

        function setupFileUploads() {
            // –§–æ—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            document.getElementById('userPhoto').addEventListener('change', function(e) {
                handlePhotoUpload(e, 'user');
            });

            // –§–æ—Ç–æ –∂–∏–≤–æ—Ç–Ω—ã—Ö
            document.getElementById('animalPhotos').addEventListener('change', function(e) {
                handlePhotoUpload(e, 'animal');
            });

            // –§–æ—Ç–æ –ø—Ä–∏—é—Ç–æ–≤
            document.getElementById('shelterPhotos').addEventListener('change', function(e) {
                handlePhotoUpload(e, 'shelter');
            });
        }

        function handlePhotoUpload(event, type) {
            const files = Array.from(event.target.files);
            const previewContainer = document.getElementById(type === 'user' ? 'userPhotoPreview' : 
                                                              type === 'animal' ? 'animalPhotosPreview' : 
                                                              'shelterPhotosPreview');
            
            files.forEach(file => {
                if (!file.type.startsWith('image/')) {
                    showMessage('–ú–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è', 'error');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewItem = document.createElement('div');
                    previewItem.className = 'preview-item';
                    previewItem.innerHTML = `
                        <img src="${e.target.result}" class="preview-image">
                        <button type="button" class="remove-btn" onclick="removePhoto('${type}', '${file.name}')">√ó</button>
                    `;
                    previewContainer.appendChild(previewItem);

                    if (type === 'animal') {
                        animalPhotos.push(file);
                    } else if (type === 'shelter') {
                        shelterPhotos.push(file);
                    }
                };
                reader.readAsDataURL(file);
            });

            event.target.value = '';
        }

        function removePhoto(type, fileName) {
            const previewContainer = document.getElementById(type === 'user' ? 'userPhotoPreview' : 
                                                              type === 'animal' ? 'animalPhotosPreview' : 
                                                              'shelterPhotosPreview');
            const items = previewContainer.getElementsByClassName('preview-item');
            
            for (let item of items) {
                if (item.querySelector('img').src.includes(fileName.split('.')[0])) {
                    item.remove();
                    break;
                }
            }

            if (type === 'animal') {
                animalPhotos = animalPhotos.filter(file => file.name !== fileName);
            } else if (type === 'shelter') {
                shelterPhotos = shelterPhotos.filter(file => file.name !== fileName);
            }
        }

        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        document.getElementById('registerForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;

            try {
                const response = await fetch(`${API_BASE}/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        email,
                        password,
                        role: 'admin'
                    })
                });

                const result = await response.json();

                if (response.ok) {
                    showMessage('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏.', 'success');
                    document.getElementById('registerForm').reset();
                } else {
                    showMessage(result.error || '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏', 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message, 'error');
            }
        });

        // –í—Ö–æ–¥
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            try {
                const response = await fetch(`${API_BASE}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email, password })
                });

                const result = await response.json();

                if (response.ok) {
                    accessToken = result.accessToken;
                    userEmail = email;
                    localStorage.setItem('accessToken', accessToken);
                    localStorage.setItem('userEmail', userEmail);
                    showMessage('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!', 'success');
                    showAdminPanel();
                } else {
                    showMessage(result.error || '–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞', 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message, 'error');
            }
        });

        // –í—ã—Ö–æ–¥
        function logout() {
            accessToken = null;
            userEmail = null;
            localStorage.removeItem('accessToken');
            localStorage.removeItem('userEmail');
            showAuthSection();
            showMessage('–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã', 'info');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å —Å–µ–∫—Ü–∏–∏
        function showAuthSection() {
            document.getElementById('authSection').style.display = 'block';
            document.getElementById('adminPanel').classList.remove('active');
        }

        function showAdminPanel() {
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('adminPanel').classList.add('active');
            document.getElementById('userEmail').textContent = userEmail;
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tabName, evt) {
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–æ
            if (evt) {
                evt.preventDefault();
                evt.stopPropagation();
            }
            
            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            // –ù–∞—Ö–æ–¥–∏–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω—É–∂–Ω—É—é –∫–Ω–æ–ø–∫—É
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                const tabText = tab.textContent.trim();
                const isTargetTab = (tabName === 'users' && tabText.includes('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏')) ||
                                   (tabName === 'animals' && tabText.includes('–ñ–∏–≤–æ—Ç–Ω—ã–µ')) ||
                                   (tabName === 'shelters' && tabText.includes('–ü—Ä–∏—é—Ç—ã')) ||
                                   (tabName === 'applications' && tabText.includes('–ó–∞—è–≤–∫–∏')) ||
                                   (tabName === 'manage' && tabText.includes('–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ'));
                if (isTargetTab) {
                    tab.classList.add('active');
                }
            });
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω—É–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
            const targetTab = document.getElementById(tabName + 'Tab');
            if (targetTab) {
                targetTab.classList.add('active');
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ñ–æ—Ä–º—ã –∑–∞—è–≤–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏
            if (tabName === 'applications') {
                loadApplicationFormData();
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏
        document.getElementById('applicationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const applicationData = {
                user_id: parseInt(document.getElementById('applicationUser').value),
                shelter_id: parseInt(document.getElementById('applicationShelter').value),
                animal_id: parseInt(document.getElementById('applicationAnimal').value),
                description: document.getElementById('applicationDescription').value,
                status: document.getElementById('applicationStatus').value || 'pending'
            };

            try {
                const response = await fetch(`${API_BASE}/applications`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${accessToken}`
                    },
                    body: JSON.stringify(applicationData)
                });

                const result = await response.json();

                if (response.ok) {
                    showMessage('–ó–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!', 'success');
                    document.getElementById('applicationForm').reset();
                } else {
                    showMessage(result.error || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏', 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message, 'error');
            }
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏—é—Ç–æ–≤
        async function loadShelters() {
            try {
                const response = await fetch(`${API_BASE}/shelters`);
                if (response.ok) {
                    const shelters = await response.json();
                    // –ó–∞–ø–æ–ª–Ω—è–µ–º select –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö
                    const animalSelect = document.getElementById('animalShelter');
                    if (animalSelect) {
                        animalSelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—é—Ç</option>';
                        shelters.forEach(shelter => {
                            const option = document.createElement('option');
                            option.value = shelter.id;
                            option.textContent = shelter.name;
                            animalSelect.appendChild(option);
                        });
                    }
                    // –ó–∞–ø–æ–ª–Ω—è–µ–º select –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ –ø—Ä–∏—é—Ç–æ–≤
                    const userShelterSelect = document.getElementById('userShelter');
                    if (userShelterSelect) {
                        userShelterSelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—é—Ç</option>';
                        shelters.forEach(shelter => {
                            const option = document.createElement('option');
                            option.value = shelter.id;
                            option.textContent = shelter.name;
                            userShelterSelect.appendChild(option);
                        });
                    }
                    // –ó–∞–ø–æ–ª–Ω—è–µ–º select –¥–ª—è –∑–∞—è–≤–æ–∫
                    const applicationShelterSelect = document.getElementById('applicationShelter');
                    if (applicationShelterSelect) {
                        applicationShelterSelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—é—Ç</option>';
                        shelters.forEach(shelter => {
                            const option = document.createElement('option');
                            option.value = shelter.id;
                            option.textContent = shelter.name;
                            applicationShelterSelect.appendChild(option);
                        });
                    }
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏—é—Ç–æ–≤:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ñ–æ—Ä–º—ã –∑–∞—è–≤–∫–∏
        async function loadApplicationFormData() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            if (!window.allUsers || window.allUsers.length === 0) {
                await loadUsers();
            }
            const userSelect = document.getElementById('applicationUser');
            if (userSelect && window.allUsers) {
                userSelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</option>';
                window.allUsers.forEach(user => {
                    const option = document.createElement('option');
                    option.value = user.id;
                    const userName = (user.firstname || '') + ' ' + (user.lastname || '');
                    option.textContent = userName.trim() ? `${userName.trim()} (${user.email})` : user.email;
                    userSelect.appendChild(option);
                });
            }

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–∏—é—Ç—ã
            if (document.getElementById('applicationShelter').options.length <= 1) {
                await loadShelters();
            }

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∂–∏–≤–æ—Ç–Ω—ã—Ö
            if (!window.allAnimals || window.allAnimals.length === 0) {
                await loadAnimals();
            }
            const animalSelect = document.getElementById('applicationAnimal');
            if (animalSelect && window.allAnimals) {
                animalSelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∂–∏–≤–æ—Ç–Ω–æ–µ</option>';
                window.allAnimals.forEach(animal => {
                    const option = document.createElement('option');
                    option.value = animal.id;
                    option.textContent = `${animal.name} (${animal.type})`;
                    animalSelect.appendChild(option);
                });
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        async function loadUsers() {
            try {
                const response = await fetch(`${API_BASE}/users`);
                if (response.ok) {
                    window.allUsers = await response.json();
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:', error);
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö
        async function loadAnimals() {
            try {
                const response = await fetch(`${API_BASE}/animals`);
                if (response.ok) {
                    window.allAnimals = await response.json();
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö:', error);
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –≤—ã–±–æ—Ä –ø—Ä–∏—é—Ç–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞ –ø—Ä–∏—é—Ç–∞
        function toggleShelterSelect() {
            const roleSelect = document.getElementById('userRole');
            const shelterSelectGroup = document.getElementById('shelterSelectGroup');
            if (roleSelect.value === 'shelter_admin') {
                shelterSelectGroup.style.display = 'flex';
            } else {
                shelterSelectGroup.style.display = 'none';
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        document.getElementById('userForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData();
            formData.append('email', document.getElementById('newUserEmail').value);
            formData.append('password', document.getElementById('userPassword').value);
            formData.append('firstname', document.getElementById('userFirstname').value);
            formData.append('lastname', document.getElementById('userLastname').value);
            formData.append('role', document.getElementById('userRole').value);
            formData.append('gender', document.getElementById('userGender').value);
            formData.append('phone', document.getElementById('userPhone').value);
            
            const photoFile = document.getElementById('userPhoto').files[0];
            if (photoFile) {
                formData.append('photo', photoFile);
            }

            try {
                const response = await fetch(`${API_BASE}/users`, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${accessToken}`
                    },
                    body: formData
                });

                const result = await response.json();

                if (response.ok) {
                    const userId = result.user?.id || result.id;
                    const role = document.getElementById('userRole').value;
                    const shelterId = document.getElementById('userShelter').value;

                    // –ï—Å–ª–∏ —Å–æ–∑–¥–∞–Ω –∞–¥–º–∏–Ω –ø—Ä–∏—é—Ç–∞ –∏ –≤—ã–±—Ä–∞–Ω –ø—Ä–∏—é—Ç, –æ–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏—é—Ç
                    if (role === 'shelter_admin' && shelterId && userId) {
                        try {
                            const updateResponse = await fetch(`${API_BASE}/shelters/${shelterId}`, {
                                method: 'PUT',
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Authorization': `Bearer ${accessToken}`
                                },
                                body: JSON.stringify({ admin_id: userId })
                            });

                            if (updateResponse.ok) {
                                showMessage('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø—Ä–∏—é—Ç–∞!', 'success');
                            } else {
                                showMessage('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω, –Ω–æ –Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–∑–Ω–∞—á–∏—Ç—å –µ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø—Ä–∏—é—Ç–∞', 'error');
                            }
                        } catch (updateError) {
                            showMessage('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω, –Ω–æ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –ø—Ä–∏—é—Ç–∞: ' + updateError.message, 'error');
                        }
                    } else {
                        showMessage('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!', 'success');
                    }

                    document.getElementById('userForm').reset();
                    document.getElementById('userPhotoPreview').innerHTML = '';
                    document.getElementById('shelterSelectGroup').style.display = 'none';
                    loadUsers();
                } else {
                    showMessage(result.error || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è', 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message, 'error');
            }
        });

        // –°–æ–∑–¥–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ
        document.getElementById('animalForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const animalData = {
                name: document.getElementById('animalName').value,
                age: parseInt(document.getElementById('animalAge').value),
                type: document.getElementById('animalType').value,
                shelter_id: parseInt(document.getElementById('animalShelter').value),
                gender: document.getElementById('animalGender').value || null,
                weight: document.getElementById('animalWeight').value ? parseFloat(document.getElementById('animalWeight').value) : null,
                color: document.getElementById('animalColor').value || null,
                animal_size: document.getElementById('animalSize').value || null,
                health: document.getElementById('animalHealth').value || null,
                personality: document.getElementById('animalPersonality').value || null,
                history: document.getElementById('animalHistory').value || null
            };

            try {
                const response = await fetch(`${API_BASE}/animals`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${accessToken}`
                    },
                    body: JSON.stringify(animalData)
                });

                const result = await response.json();

                if (response.ok) {
                    const animalId = result.animal?.id || result.id;
                    if (animalId && animalPhotos.length > 0) {
                        await uploadPhotos(animalPhotos, 'animal', animalId);
                    }
                    showMessage('–ñ–∏–≤–æ—Ç–Ω–æ–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ!', 'success');
                    document.getElementById('animalForm').reset();
                    document.getElementById('animalPhotosPreview').innerHTML = '';
                    animalPhotos = [];
                } else {
                    showMessage(result.error || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∂–∏–≤–æ—Ç–Ω–æ–≥–æ', 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message, 'error');
            }
        });

        // –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏—é—Ç–∞
        document.getElementById('shelterForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const shelterData = {
                name: document.getElementById('shelterName').value,
                address: document.getElementById('shelterAddress').value || null,
                phone: document.getElementById('shelterPhone').value || null,
                email: document.getElementById('shelterEmail').value || null,
                website: document.getElementById('shelterWebsite').value || null,
                description: document.getElementById('shelterDescription').value || null,
                capacity: document.getElementById('shelterCapacity').value ? parseInt(document.getElementById('shelterCapacity').value) : null,
                working_hours: document.getElementById('shelterWorkingHours').value || null,
                can_adopt: document.getElementById('shelterCanAdopt').value === '' ? null : document.getElementById('shelterCanAdopt').value === 'true',
                status: document.getElementById('shelterStatus').value,
                region: document.getElementById('shelterRegion').value || null
            };

            try {
                const response = await fetch(`${API_BASE}/shelters`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${accessToken}`
                    },
                    body: JSON.stringify(shelterData)
                });

                const result = await response.json();

                if (response.ok) {
                    const shelterId = result.shelter?.id || result.id;
                    if (shelterId && shelterPhotos.length > 0) {
                        await uploadPhotos(shelterPhotos, 'shelter', shelterId);
                    }
                    showMessage('–ü—Ä–∏—é—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!', 'success');
                    document.getElementById('shelterForm').reset();
                    document.getElementById('shelterPhotosPreview').innerHTML = '';
                    shelterPhotos = [];
                    loadShelters();
                } else {
                    showMessage(result.error || '–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–∏—é—Ç–∞', 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message, 'error');
            }
        });

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
        async function uploadPhotos(files, entityType, entityId) {
            for (const file of files) {
                const formData = new FormData();
                formData.append('photo', file);
                formData.append('entity_type', entityType);
                formData.append('entity_id', entityId.toString());

                try {
                    const response = await fetch(`${API_BASE}/photos/upload`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${accessToken}`
                        },
                        body: formData
                    });

                    if (!response.ok) {
                        const error = await response.text();
                        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ:', error);
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ:', error);
                }
            }
        }

        // –ü–æ–∫–∞–∑ —Å–æ–æ–±—â–µ–Ω–∏–π
        function showMessage(message, type) {
            const container = document.getElementById('messageContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            messageDiv.textContent = message;
            container.appendChild(messageDiv);

            setTimeout(() => {
                messageDiv.remove();
            }, 5000);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
        async function loadManageList(event) {
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–æ
            if (event) {
                event.preventDefault();
                event.stopPropagation();
            }
            
            const type = document.getElementById('manageType').value;
            const container = document.getElementById('manageListContainer');
            const editContainer = document.getElementById('manageEditContainer');
            
            editContainer.innerHTML = '';
            editContainer.style.display = 'none';
            
            if (!type) {
                container.innerHTML = '';
                return;
            }
            
            container.innerHTML = '<p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>';
            
            try {
                let items = [];
                let endpoint = '';
                
                switch(type) {
                    case 'animals':
                        endpoint = `${API_BASE}/animals`;
                        break;
                    case 'shelters':
                        endpoint = `${API_BASE}/shelters`;
                        break;
                    case 'users':
                        endpoint = `${API_BASE}/users`;
                        break;
                    case 'applications':
                        endpoint = `${API_BASE}/applications`;
                        break;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –∑–∞—è–≤–æ–∫
                if (type === 'applications' && !accessToken) {
                    container.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞: —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.</p>';
                    return;
                }
                
                console.log('–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞:', type, endpoint);
                
                const response = await fetch(endpoint, {
                    headers: type === 'applications' ? {
                        'Authorization': `Bearer ${accessToken}`
                    } : {},
                    redirect: 'manual' // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
                });
                
                console.log('–û—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω:', response.status, response.type);
                
                // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —è–≤–Ω–æ
                if (response.type === 'opaqueredirect' || response.status === 0) {
                    container.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞: –ø—Ä–æ–∏–∑–æ—à–µ–ª —Ä–µ–¥–∏—Ä–µ–∫—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.</p>';
                    return;
                }
                
                if (response.status === 401 || response.status === 403) {
                    container.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.</p>';
                    showMessage('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
                    return;
                }
                
                if (response.ok) {
                    const responseText = await response.text();
                    console.log('–¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞:', responseText.substring(0, 200));
                    
                    try {
                        items = JSON.parse(responseText);
                    } catch (parseError) {
                        console.error('–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON:', parseError, responseText);
                        container.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞</p>';
                        return;
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ items - —ç—Ç–æ –º–∞—Å—Å–∏–≤
                    if (!Array.isArray(items)) {
                        console.error('–û—Ç–≤–µ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º:', items);
                        container.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö (–æ–∂–∏–¥–∞–ª—Å—è –º–∞—Å—Å–∏–≤)</p>';
                        return;
                    }
                    
                    console.log('–ó–∞–≥—Ä—É–∂–µ–Ω–æ –∑–∞–ø–∏—Å–µ–π:', items.length);
                    
                    if (items.length === 0) {
                        container.innerHTML = '<p style="color: #666; padding: 20px; text-align: center; background: #f8f9fa; border-radius: 5px;">–ó–∞–ø–∏—Å–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–∫–ª–∞–¥–∫–∏.</p>';
                        return;
                    }
                    
                    try {
                        let html = '<div style="display: grid; gap: 10px; max-height: 400px; overflow-y: auto;">';
                        items.forEach(item => {
                            if (!item || !item.id) {
                                console.warn('–ü—Ä–æ–ø—É—â–µ–Ω —ç–ª–µ–º–µ–Ω—Ç –±–µ–∑ id:', item);
                                return;
                            }
                            
                            let displayText = '';
                            try {
                                if (type === 'animals') {
                                    displayText = `${item.name || '–ë–µ–∑ –∏–º–µ–Ω–∏'} (${item.type || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}, –≤–æ–∑—Ä–∞—Å—Ç: ${item.age || '?'})`;
                                } else if (type === 'shelters') {
                                    displayText = `${item.name || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'} - ${item.address || '–±–µ–∑ –∞–¥—Ä–µ—Å–∞'} - ${item.region || '–±–µ–∑ —Ä–µ–≥–∏–æ–Ω–∞'}`;
                                } else if (type === 'users') {
                                    const name = (item.firstname || '') + ' ' + (item.lastname || '');
                                    displayText = name.trim() ? `${name.trim()} (${item.email || '–±–µ–∑ email'})` : (item.email || '–±–µ–∑ email');
                                } else if (type === 'applications') {
                                    displayText = `–ó–∞—è–≤–∫–∞ #${item.id} - ${item.status || '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}`;
                                }
                            } catch (err) {
                                console.error('–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞:', err, item);
                                displayText = `–ó–∞–ø–∏—Å—å #${item.id || '?'}`;
                            }
                            
                            html += `
                                <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px; border: 1px solid #ddd; border-radius: 5px; background: #f8f9fa;">
                                    <span>${displayText}</span>
                                    <div style="display: flex; gap: 10px;">
                                        <button type="button" class="btn btn-primary" onclick="(function(e){e.preventDefault();e.stopPropagation();editItem('${type}', ${item.id}, e);return false;})(event)" style="padding: 5px 15px; font-size: 14px;">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                        <button type="button" class="btn btn-secondary" onclick="(function(e){e.preventDefault();e.stopPropagation();deleteItem('${type}', ${item.id}, e);return false;})(event)" style="padding: 5px 15px; font-size: 14px; background: #dc3545;">–£–¥–∞–ª–∏—Ç—å</button>
                                    </div>
                                </div>
                            `;
                        });
                        html += '</div>';
                        container.innerHTML = html;
                    } catch (error) {
                        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞:', error);
                        container.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞: ' + error.message + '</p>';
                    }
                } else {
                    const errorText = await response.text();
                    let errorMessage = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö';
                    try {
                        const errorJson = JSON.parse(errorText);
                        errorMessage = errorJson.error || errorMessage;
                    } catch (e) {
                        errorMessage = `–û—à–∏–±–∫–∞ ${response.status}: ${errorText}`;
                    }
                    container.innerHTML = `<p style="color: #dc3545;">${errorMessage}</p>`;
                }
            } catch (error) {
                container.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞: ' + error.message + '</p>';
            }
        }

        // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏
        async function editItem(type, id, evt) {
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ª—é–±—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
            if (evt) {
                evt.preventDefault();
                evt.stopPropagation();
            }
            
            const editContainer = document.getElementById('manageEditContainer');
            editContainer.style.display = 'block';
            editContainer.innerHTML = '<p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</p>';
            
            try {
                let endpoint = '';
                switch(type) {
                    case 'animals':
                        endpoint = `${API_BASE}/animals/${id}`;
                        break;
                    case 'shelters':
                        endpoint = `${API_BASE}/shelters/${id}`;
                        break;
                    case 'users':
                        endpoint = `${API_BASE}/users/${id}`;
                        break;
                    case 'applications':
                        endpoint = `${API_BASE}/applications/${id}`;
                        break;
                }
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è –∑–∞—è–≤–æ–∫
                if (type === 'applications' && !accessToken) {
                    editContainer.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞: —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.</p>';
                    return;
                }
                
                const response = await fetch(endpoint, {
                    headers: type === 'applications' ? {
                        'Authorization': `Bearer ${accessToken}`
                    } : {},
                    redirect: 'manual' // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
                });
                
                // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —è–≤–Ω–æ
                if (response.type === 'opaqueredirect' || response.status === 0) {
                    editContainer.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞: –ø—Ä–æ–∏–∑–æ—à–µ–ª —Ä–µ–¥–∏—Ä–µ–∫—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.</p>';
                    return;
                }
                
                if (response.status === 401 || response.status === 403) {
                    editContainer.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.</p>';
                    showMessage('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
                    return;
                }
                
                if (response.ok) {
                    const item = await response.json();
                    let formHtml = '';
                    
                    if (type === 'animals') {
                        formHtml = `
                            <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ</h3>
                            <form id="editAnimalForm" onsubmit="saveItem('animals', ${id}, event)">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="editAnimalName" class="required">–ò–º—è</label>
                                        <input type="text" id="editAnimalName" value="${item.name || ''}" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="editAnimalAge" class="required">–í–æ–∑—Ä–∞—Å—Ç</label>
                                        <input type="number" id="editAnimalAge" value="${item.age || ''}" min="0" max="30" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="editAnimalType" class="required">–¢–∏–ø</label>
                                        <select id="editAnimalType" required>
                                            <option value="cat" ${item.type === 'cat' ? 'selected' : ''}>–ö–æ—à–∫–∞</option>
                                            <option value="dog" ${item.type === 'dog' ? 'selected' : ''}>–°–æ–±–∞–∫–∞</option>
                                            <option value="rabbit" ${item.type === 'rabbit' ? 'selected' : ''}>–ö—Ä–æ–ª–∏–∫</option>
                                            <option value="parrot" ${item.type === 'parrot' ? 'selected' : ''}>–ü–æ–ø—É–≥–∞–π</option>
                                            <option value="hamster" ${item.type === 'hamster' ? 'selected' : ''}>–•–æ–º—è–∫</option>
                                            <option value="other" ${item.type === 'other' ? 'selected' : ''}>–î—Ä—É–≥–æ–µ</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editAnimalGender">–ü–æ–ª</label>
                                        <select id="editAnimalGender">
                                            <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                            <option value="male" ${item.gender === 'male' ? 'selected' : ''}>–ú—É–∂—Å–∫–æ–π</option>
                                            <option value="female" ${item.gender === 'female' ? 'selected' : ''}>–ñ–µ–Ω—Å–∫–∏–π</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editAnimalShelter" class="required">–ü—Ä–∏—é—Ç</label>
                                        <select id="editAnimalShelter" required></select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editAnimalWeight">–í–µ—Å (–∫–≥)</label>
                                        <input type="number" id="editAnimalWeight" value="${item.weight || ''}" min="0" step="0.1">
                                    </div>
                                    <div class="form-group">
                                        <label for="editAnimalColor">–û–∫—Ä–∞—Å</label>
                                        <input type="text" id="editAnimalColor" value="${item.color || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label for="editAnimalSize">–†–∞–∑–º–µ—Ä</label>
                                        <select id="editAnimalSize">
                                            <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                            <option value="small" ${item.animal_size === 'small' ? 'selected' : ''}>–ú–∞–ª–µ–Ω—å–∫–∏–π</option>
                                            <option value="medium" ${item.animal_size === 'medium' ? 'selected' : ''}>–°—Ä–µ–¥–Ω–∏–π</option>
                                            <option value="large" ${item.animal_size === 'large' ? 'selected' : ''}>–ö—Ä—É–ø–Ω—ã–π</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editAnimalHealth">–°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è</label>
                                        <input type="text" id="editAnimalHealth" value="${item.health || ''}">
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="editAnimalPersonality">–•–∞—Ä–∞–∫—Ç–µ—Ä</label>
                                        <textarea id="editAnimalPersonality">${item.personality || ''}</textarea>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="editAnimalHistory">–ò—Å—Ç–æ—Ä–∏—è</label>
                                        <textarea id="editAnimalHistory">${item.history || ''}</textarea>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </form>
                        `;
                    } else if (type === 'shelters') {
                        formHtml = `
                            <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏—é—Ç–∞</h3>
                            <form id="editShelterForm" onsubmit="saveItem('shelters', ${id}, event)">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="editShelterName" class="required">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
                                        <input type="text" id="editShelterName" value="${item.name || ''}" required>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="editShelterAddress">–ê–¥—Ä–µ—Å</label>
                                        <input type="text" id="editShelterAddress" value="${item.address || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label for="editShelterRegion">–û–∫—Ä—É–≥</label>
                                        <select id="editShelterRegion">
                                            <option value="">–ù–µ –≤—ã–±—Ä–∞–Ω</option>
                                            <option value="cao" ${item.region === 'cao' ? 'selected' : ''}>–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π</option>
                                        <option value="sao" ${item.region === 'sao' ? 'selected' : ''}>–°–µ–≤–µ—Ä–Ω—ã–π</option>
                                        <option value="svao" ${item.region === 'svao' ? 'selected' : ''}>–°–µ–≤–µ—Ä–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π</option>
                                        <option value="vao" ${item.region === 'vao' ? 'selected' : ''}>–í–æ—Å—Ç–æ—á–Ω—ã–π</option>
                                        <option value="yuvao" ${item.region === 'yuvao' ? 'selected' : ''}>–Æ–≥–æ-–í–æ—Å—Ç–æ—á–Ω—ã–π</option>
                                        <option value="yao" ${item.region === 'yao' ? 'selected' : ''}>–Æ–∂–Ω—ã–π</option>
                                        <option value="yuzao" ${item.region === 'yuzao' ? 'selected' : ''}>–Æ–≥–æ-–ó–∞–ø–∞–¥–Ω—ã–π</option>
                                        <option value="zao" ${item.region === 'zao' ? 'selected' : ''}>–ó–∞–ø–∞–¥–Ω—ã–π</option>
                                        <option value="szao" ${item.region === 'szao' ? 'selected' : ''}>–°–µ–≤–µ—Ä–æ-–ó–∞–ø–∞–¥–Ω—ã–π</option>
                                        <option value="zelao" ${item.region === 'zelao' ? 'selected' : ''}>–ó–µ–ª–µ–Ω–æ–≥—Ä–∞–¥—Å–∫–∏–π</option>
                                        <option value="tinao" ${item.region === 'tinao' ? 'selected' : ''}>–¢—Ä–æ–∏—Ü–∫–∏–π</option>
                                        <option value="nao" ${item.region === 'nao' ? 'selected' : ''}>–ù–æ–≤–æ–º–æ—Å–∫–æ–≤—Å–∫–∏–π</option>
                                    </div>
                                    <div class="form-group">
                                        <label for="editShelterPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                        <input type="tel" id="editShelterPhone" value="${item.phone || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label for="editShelterEmail">Email</label>
                                        <input type="email" id="editShelterEmail" value="${item.email || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label for="editShelterWebsite">–í–µ–±-—Å–∞–π—Ç</label>
                                        <input type="url" id="editShelterWebsite" value="${item.website || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label for="editShelterCapacity">–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</label>
                                        <input type="number" id="editShelterCapacity" value="${item.capacity || ''}" min="0">
                                    </div>
                                    <div class="form-group">
                                        <label for="editShelterWorkingHours">–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã</label>
                                        <input type="text" id="editShelterWorkingHours" value="${item.working_hours || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label for="editShelterCanAdopt">–ú–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–∞ —É—Å—ã–Ω–æ–≤–ª–µ–Ω–∏–µ</label>
                                        <select id="editShelterCanAdopt">
                                            <option value="" ${item.can_adopt === null ? 'selected' : ''}>–ù–µ —É–∫–∞–∑–∞–Ω–æ</option>
                                            <option value="true" ${item.can_adopt === true ? 'selected' : ''}>–î–∞</option>
                                            <option value="false" ${item.can_adopt === false ? 'selected' : ''}>–ù–µ—Ç</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editShelterStatus">–°—Ç–∞—Ç—É—Å</label>
                                        <select id="editShelterStatus">
                                            <option value="active" ${item.status === 'active' ? 'selected' : ''}>–ê–∫—Ç–∏–≤–µ–Ω</option>
                                            <option value="inactive" ${item.status === 'inactive' ? 'selected' : ''}>–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</option>
                                            <option value="suspended" ${item.status === 'suspended' ? 'selected' : ''}>–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</option>
                                        </select>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="editShelterDescription">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                        <textarea id="editShelterDescription">${item.description || ''}</textarea>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </form>
                        `;
                    } else if (type === 'users') {
                        formHtml = `
                            <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
                            <form id="editUserForm" onsubmit="saveItem('users', ${id}, event)">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="editUserEmail">Email</label>
                                        <input type="email" id="editUserEmail" value="${item.email || ''}" readonly style="background: #e9ecef;">
                                    </div>
                                    <div class="form-group">
                                        <label for="editUserFirstname">–ò–º—è</label>
                                        <input type="text" id="editUserFirstname" value="${item.firstname || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label for="editUserLastname">–§–∞–º–∏–ª–∏—è</label>
                                        <input type="text" id="editUserLastname" value="${item.lastname || ''}">
                                    </div>
                                    <div class="form-group">
                                        <label for="editUserRole">–†–æ–ª—å</label>
                                        <select id="editUserRole">
                                            <option value="user" ${item.role === 'user' ? 'selected' : ''}>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
                                            <option value="admin" ${item.role === 'admin' ? 'selected' : ''}>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
                                            <option value="shelter_admin" ${item.role === 'shelter_admin' ? 'selected' : ''}>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–∏—é—Ç–∞</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editUserGender">–ü–æ–ª</label>
                                        <select id="editUserGender">
                                            <option value="">–ù–µ —É–∫–∞–∑–∞–Ω</option>
                                            <option value="male" ${item.gender === 'male' ? 'selected' : ''}>–ú—É–∂—Å–∫–æ–π</option>
                                            <option value="female" ${item.gender === 'female' ? 'selected' : ''}>–ñ–µ–Ω—Å–∫–∏–π</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editUserPhone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                        <input type="tel" id="editUserPhone" value="${item.phone || ''}">
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </form>
                        `;
                    } else if (type === 'applications') {
                        formHtml = `
                            <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏</h3>
                            <form id="editApplicationForm" onsubmit="saveItem('applications', ${id}, event)">
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="editApplicationUser">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</label>
                                        <select id="editApplicationUser" required></select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editApplicationShelter">–ü—Ä–∏—é—Ç</label>
                                        <select id="editApplicationShelter" required></select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editApplicationAnimal">–ñ–∏–≤–æ—Ç–Ω–æ–µ</label>
                                        <select id="editApplicationAnimal" required></select>
                                    </div>
                                    <div class="form-group">
                                        <label for="editApplicationStatus">–°—Ç–∞—Ç—É—Å</label>
                                        <select id="editApplicationStatus">
                                            <option value="pending" ${item.status === 'pending' ? 'selected' : ''}>–û–∂–∏–¥–∞–µ—Ç</option>
                                            <option value="approved" ${item.status === 'approved' ? 'selected' : ''}>–û–¥–æ–±—Ä–µ–Ω–∞</option>
                                            <option value="rejected" ${item.status === 'rejected' ? 'selected' : ''}>–û—Ç–∫–ª–æ–Ω–µ–Ω–∞</option>
                                            <option value="cancelled" ${item.status === 'cancelled' ? 'selected' : ''}>–û—Ç–º–µ–Ω–µ–Ω–∞</option>
                                        </select>
                                    </div>
                                    <div class="form-group full-width">
                                        <label for="editApplicationDescription" class="required">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                        <textarea id="editApplicationDescription" minlength="10" maxlength="5000" required>${item.description || ''}</textarea>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                            </form>
                        `;
                    }
                    
                    editContainer.innerHTML = formHtml;
                    
                    // –ó–∞–ø–æ–ª–Ω—è–µ–º select'—ã –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ –∑–∞—è–≤–æ–∫
                    if (type === 'animals') {
                        await loadSheltersForSelect('editAnimalShelter', item.shelter_id);
                    } else if (type === 'applications') {
                        await loadApplicationFormData();
                        document.getElementById('editApplicationUser').value = item.user_id;
                        document.getElementById('editApplicationShelter').value = item.shelter_id;
                        document.getElementById('editApplicationAnimal').value = item.animal_id;
                    }
                } else {
                    const errorText = await response.text();
                    let errorMessage = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö';
                    try {
                        const errorJson = JSON.parse(errorText);
                        errorMessage = errorJson.error || errorMessage;
                    } catch (e) {
                        errorMessage = `–û—à–∏–±–∫–∞ ${response.status}: ${errorText}`;
                    }
                    editContainer.innerHTML = `<p style="color: #dc3545;">${errorMessage}</p>`;
                }
            } catch (error) {
                editContainer.innerHTML = '<p style="color: #dc3545;">–û—à–∏–±–∫–∞: ' + error.message + '</p>';
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
        async function saveItem(type, id, event) {
            event.preventDefault();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞
            if (!accessToken) {
                showMessage('–û—à–∏–±–∫–∞: —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
                return;
            }
            
            try {
                let data = {};
                let endpoint = '';
                
                switch(type) {
                    case 'animals':
                        endpoint = `${API_BASE}/animals/${id}`;
                        data = {
                            name: document.getElementById('editAnimalName').value,
                            age: parseInt(document.getElementById('editAnimalAge').value),
                            type: document.getElementById('editAnimalType').value,
                            gender: document.getElementById('editAnimalGender').value || null,
                            shelter_id: parseInt(document.getElementById('editAnimalShelter').value),
                            weight: document.getElementById('editAnimalWeight').value ? parseFloat(document.getElementById('editAnimalWeight').value) : null,
                            color: document.getElementById('editAnimalColor').value || null,
                            animal_size: document.getElementById('editAnimalSize').value || null,
                            health: document.getElementById('editAnimalHealth').value || null,
                            personality: document.getElementById('editAnimalPersonality').value || null,
                            history: document.getElementById('editAnimalHistory').value || null
                        };
                        break;
                    case 'shelters':
                        endpoint = `${API_BASE}/shelters/${id}`;
                        data = {
                            name: document.getElementById('editShelterName').value,
                            address: document.getElementById('editShelterAddress').value || null,
                            phone: document.getElementById('editShelterPhone').value || null,
                            email: document.getElementById('editShelterEmail').value || null,
                            website: document.getElementById('editShelterWebsite').value || null,
                            description: document.getElementById('editShelterDescription').value || null,
                            capacity: document.getElementById('editShelterCapacity').value ? parseInt(document.getElementById('editShelterCapacity').value) : null,
                            working_hours: document.getElementById('editShelterWorkingHours').value || null,
                            can_adopt: document.getElementById('editShelterCanAdopt').value === '' ? null : document.getElementById('editShelterCanAdopt').value === 'true',
                            status: document.getElementById('editShelterStatus').value,
                            region: document.getElementById('editShelterRegion').value || null
                        };
                        break;
                    case 'users':
                        endpoint = `${API_BASE}/users/${id}`;
                        data = {
                            firstname: document.getElementById('editUserFirstname').value || null,
                            lastname: document.getElementById('editUserLastname').value || null,
                            role: document.getElementById('editUserRole').value,
                            gender: document.getElementById('editUserGender').value || null,
                            phone: document.getElementById('editUserPhone').value || null
                        };
                        break;
                    case 'applications':
                        endpoint = `${API_BASE}/applications/${id}`;
                        data = {
                            user_id: parseInt(document.getElementById('editApplicationUser').value),
                            shelter_id: parseInt(document.getElementById('editApplicationShelter').value),
                            animal_id: parseInt(document.getElementById('editApplicationAnimal').value),
                            status: document.getElementById('editApplicationStatus').value,
                            description: document.getElementById('editApplicationDescription').value
                        };
                        break;
                }
                
                const response = await fetch(endpoint, {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${accessToken}`
                    },
                    body: JSON.stringify(data),
                    redirect: 'manual' // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
                });
                
                // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —è–≤–Ω–æ
                if (response.type === 'opaqueredirect' || response.status === 0) {
                    showMessage('–û—à–∏–±–∫–∞: –ø—Ä–æ–∏–∑–æ—à–µ–ª —Ä–µ–¥–∏—Ä–µ–∫—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.', 'error');
                    return;
                }
                
                if (response.status === 401 || response.status === 403) {
                    showMessage('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
                    return;
                }
                
                if (response.ok) {
                    showMessage('–ò–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
                    loadManageList();
                    document.getElementById('manageEditContainer').style.display = 'none';
                } else {
                    const errorText = await response.text();
                    let errorMessage = '–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è';
                    try {
                        const errorJson = JSON.parse(errorText);
                        errorMessage = errorJson.error || errorMessage;
                    } catch (e) {
                        errorMessage = `–û—à–∏–±–∫–∞ ${response.status}: ${errorText}`;
                    }
                    showMessage(errorMessage, 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message, 'error');
            }
        }

        // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
        async function deleteItem(type, id, evt) {
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ª—é–±—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
            if (evt) {
                evt.preventDefault();
                evt.stopPropagation();
            }
            
            if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å?')) {
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞
            if (!accessToken) {
                showMessage('–û—à–∏–±–∫–∞: —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
                return;
            }
            
            try {
                let endpoint = '';
                switch(type) {
                    case 'animals':
                        endpoint = `${API_BASE}/animals/${id}`;
                        break;
                    case 'shelters':
                        endpoint = `${API_BASE}/shelters/${id}`;
                        break;
                    case 'users':
                        endpoint = `${API_BASE}/users/${id}`;
                        break;
                    case 'applications':
                        endpoint = `${API_BASE}/applications/${id}`;
                        break;
                }
                
                const response = await fetch(endpoint, {
                    method: 'DELETE',
                    headers: {
                        'Authorization': `Bearer ${accessToken}`
                    },
                    redirect: 'manual' // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
                });
                
                // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã —è–≤–Ω–æ
                if (response.type === 'opaqueredirect' || response.status === 0) {
                    showMessage('–û—à–∏–±–∫–∞: –ø—Ä–æ–∏–∑–æ—à–µ–ª —Ä–µ–¥–∏—Ä–µ–∫—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.', 'error');
                    return;
                }
                
                if (response.status === 401 || response.status === 403) {
                    showMessage('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.', 'error');
                    return;
                }
                
                if (response.ok || response.status === 204) {
                    showMessage('–ó–∞–ø–∏—Å—å —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!', 'success');
                    loadManageList();
                    document.getElementById('manageEditContainer').style.display = 'none';
                } else {
                    const errorText = await response.text();
                    let errorMessage = '–û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è';
                    try {
                        const errorJson = JSON.parse(errorText);
                        errorMessage = errorJson.error || errorMessage;
                    } catch (e) {
                        errorMessage = `–û—à–∏–±–∫–∞ ${response.status}: ${errorText}`;
                    }
                    showMessage(errorMessage, 'error');
                }
            } catch (error) {
                showMessage('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ' + error.message, 'error');
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏—é—Ç–æ–≤ –¥–ª—è select
        async function loadSheltersForSelect(selectId, selectedId = null) {
            const select = document.getElementById(selectId);
            if (!select) return;
            
            try {
                const response = await fetch(`${API_BASE}/shelters`);
                if (response.ok) {
                    const shelters = await response.json();
                    select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏—é—Ç</option>';
                    shelters.forEach(shelter => {
                        const option = document.createElement('option');
                        option.value = shelter.id;
                        option.textContent = shelter.name;
                        if (selectedId && shelter.id === selectedId) {
                            option.selected = true;
                        }
                        select.appendChild(option);
                    });
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏—é—Ç–æ–≤:', error);
            }
        }
    </script>
</body>
</html>

